plot(gw2015_1.vgm, fit.2015_1)
train1996_1 <- SpatialPointsDataFrame(jitter(coordinates(gw1996_1),factor=0.2), gw1996_1@data)
train1996_2 <- SpatialPointsDataFrame(jitter(coordinates(gw1996_2),factor=0.2), gw1996_2@data)
train1996_3 <- SpatialPointsDataFrame(jitter(coordinates(gw1996_3),factor=0.2), gw1996_3@data)
train1996_4 <- SpatialPointsDataFrame(jitter(coordinates(gw1996_4),factor=0.2), gw1996_4@data)
train1997_1 <- SpatialPointsDataFrame(jitter(coordinates(gw1997_1),factor=0.2), gw1997_1@data)
train1997_2 <- SpatialPointsDataFrame(jitter(coordinates(gw1997_2),factor=0.2), gw1997_2@data)
train1997_3 <- SpatialPointsDataFrame(jitter(coordinates(gw1997_3),factor=0.2), gw1997_3@data)
train1997_4 <- SpatialPointsDataFrame(jitter(coordinates(gw1997_4),factor=0.2), gw1997_4@data)
train1998_1 <- SpatialPointsDataFrame(jitter(coordinates(gw1998_1),factor=0.2), gw1998_1@data)
train1998_2 <- SpatialPointsDataFrame(jitter(coordinates(gw1998_2),factor=0.2), gw1998_2@data)
train1998_3 <- SpatialPointsDataFrame(jitter(coordinates(gw1998_3),factor=0.2), gw1998_3@data)
train1998_4 <- SpatialPointsDataFrame(jitter(coordinates(gw1998_4),factor=0.2), gw1998_4@data)
train1999_1 <- SpatialPointsDataFrame(jitter(coordinates(gw1999_1),factor=0.2), gw1999_1@data)
train1999_2 <- SpatialPointsDataFrame(jitter(coordinates(gw1999_2),factor=0.2), gw1999_2@data)
train1999_3 <- SpatialPointsDataFrame(jitter(coordinates(gw1999_3),factor=0.2), gw1999_3@data)
train1999_4 <- SpatialPointsDataFrame(jitter(coordinates(gw1999_4),factor=0.2), gw1999_4@data)
train2000_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2000_1),factor=0.2), gw2000_1@data)
train2000_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2000_2),factor=0.2), gw2000_2@data)
train2000_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2000_3),factor=0.2), gw2000_3@data)
train2000_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2000_4),factor=0.2), gw2000_4@data)
train2001_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2001_1),factor=0.2), gw2001_1@data)
train2001_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2001_2),factor=0.2), gw2001_2@data)
train2001_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2001_3),factor=0.2), gw2001_3@data)
train2001_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2001_4),factor=0.2), gw2001_4@data)
train2002_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2002_1),factor=0.2), gw2002_1@data)
train2002_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2002_2),factor=0.2), gw2002_2@data)
train2002_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2002_3),factor=0.2), gw2002_3@data)
train2002_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2002_4),factor=0.2), gw2002_4@data)
train2003_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2003_1),factor=0.2), gw2003_1@data)
train2003_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2003_2),factor=0.2), gw2003_2@data)
train2003_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2003_3),factor=0.2), gw2003_3@data)
train2003_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2003_4),factor=0.2), gw2003_4@data)
train2004_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2004_1),factor=0.2), gw2004_1@data)
train2004_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2004_2),factor=0.2), gw2004_2@data)
train2004_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2004_3),factor=0.2), gw2004_3@data)
train2004_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2004_4),factor=0.2), gw2004_4@data)
train2005_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2005_1),factor=0.2), gw2005_1@data)
train2005_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2005_2),factor=0.2), gw2005_2@data)
train2005_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2005_3),factor=0.2), gw2005_3@data)
train2005_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2005_4),factor=0.2), gw2005_4@data)
train2006_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2006_1),factor=0.2), gw2006_1@data)
train2006_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2006_2),factor=0.2), gw2006_2@data)
train2006_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2006_3),factor=0.2), gw2006_3@data)
train2006_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2006_4),factor=0.2), gw2006_4@data)
train2007_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2007_1),factor=0.2), gw2007_1@data)
train2007_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2007_2),factor=0.2), gw2007_2@data)
train2007_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2007_3),factor=0.2), gw2007_3@data)
train2007_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2007_4),factor=0.2), gw2007_4@data)
train2008_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2008_1),factor=0.2), gw2008_1@data)
train2008_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2008_2),factor=0.2), gw2008_2@data)
train2008_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2008_3),factor=0.2), gw2008_3@data)
train2008_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2008_4),factor=0.2), gw2008_4@data)
train2009_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2009_1),factor=0.2), gw2009_1@data)
train2009_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2009_2),factor=0.2), gw2009_2@data)
train2009_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2009_3),factor=0.2), gw2009_3@data)
train2009_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2009_4),factor=0.2), gw2009_4@data)
train2010_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2010_1),factor=0.2), gw2010_1@data)
train2010_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2010_2),factor=0.2), gw2010_2@data)
train2010_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2010_3),factor=0.2), gw2010_3@data)
train2010_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2010_4),factor=0.2), gw2010_4@data)
train2011_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2011_1),factor=0.2), gw2011_1@data)
train2011_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2011_2),factor=0.2), gw2011_2@data)
train2011_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2011_3),factor=0.2), gw2011_3@data)
train2011_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2011_4),factor=0.2), gw2011_4@data)
train2012_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2012_1),factor=0.2), gw2012_1@data)
train2012_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2012_2),factor=0.2), gw2012_2@data)
train2012_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2012_3),factor=0.2), gw2012_3@data)
train2012_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2012_4),factor=0.2), gw2012_4@data)
train2013_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2013_1),factor=0.2), gw2013_1@data)
train2013_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2013_2),factor=0.2), gw2013_2@data)
train2013_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2013_3),factor=0.2), gw2013_3@data)
train2013_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2013_4),factor=0.2), gw2013_4@data)
train2014_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2014_1),factor=0.2), gw2014_1@data)
train2014_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2014_2),factor=0.2), gw2014_2@data)
train2014_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2014_3),factor=0.2), gw2014_3@data)
train2014_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2014_4),factor=0.2), gw2014_4@data)
train2015_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2015_1),factor=0.2), gw2015_1@data)
train2015_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2015_2),factor=0.2), gw2015_2@data)
train2015_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2015_3),factor=0.2), gw2015_3@data)
train2015_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2015_4),factor=0.2), gw2015_4@data)
train2016_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2016_1),factor=0.2), gw2016_1@data)
train2016_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2016_2),factor=0.2), gw2016_2@data)
train2016_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2016_3),factor=0.2), gw2016_3@data)
train2016_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2016_4),factor=0.2), gw2016_4@data)
train2017_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2017_1),factor=0.2), gw2017_1@data)
train2017_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2017_2),factor=0.2), gw2017_2@data)
train2017_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2017_3),factor=0.2), gw2017_3@data)
train2017_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2017_4),factor=0.2), gw2017_4@data)
train2018_1 <- SpatialPointsDataFrame(jitter(coordinates(gw2018_1),factor=0.2), gw2018_1@data)
train2018_2 <- SpatialPointsDataFrame(jitter(coordinates(gw2018_2),factor=0.2), gw2018_2@data)
train2018_3 <- SpatialPointsDataFrame(jitter(coordinates(gw2018_3),factor=0.2), gw2018_3@data)
train2018_4 <- SpatialPointsDataFrame(jitter(coordinates(gw2018_4),factor=0.2), gw2018_4@data)
## Grid jitter
test.grid = SpatialPointsDataFrame(jitter(coordinates(grid),factor=0.2), grid@data)
## Krig
krig.1996.1 <- krige(log(MONSOON) ~ 1, 	train1996_1, test.grid, model=fit.1996_1, nmax=3)
krig.1996.2 <- krige(log(POMRB) ~ 1, 	train1996_2, test.grid, model=fit.1996_2, nmax=3)
krig.1996.3 <- krige(log(POMKH) ~ 1, 	train1996_3, test.grid, model=fit.1996_3, nmax=3)
krig.1996.4 <- krige(log(PREMON) ~ 1, 	train1996_4, test.grid, model=fit.1996_4, nmax=3)
krig.1997.1 <- krige(log(MONSOON) ~ 1, 	train1997_1, test.grid, model=fit.1997_1, nmax=3)
krig.1997.2 <- krige(log(POMRB) ~ 1, 	train1997_2, test.grid, model=fit.1997_2, nmax=3)
krig.1997.3 <- krige(log(POMKH) ~ 1, 	train1997_3, test.grid, model=fit.1997_3, nmax=3)
krig.1997.4 <- krige(log(PREMON) ~ 1, 	train1997_4, test.grid, model=fit.1997_4, nmax=3)
krig.1998.1 <- krige(log(MONSOON) ~ 1, 	train1998_1, test.grid, model=fit.1998_1, nmax=3)
krig.1998.2 <- krige(log(POMRB) ~ 1, 	train1998_2, test.grid, model=fit.1998_2, nmax=3)
krig.1998.3 <- krige(log(POMKH) ~ 1, 	train1998_3, test.grid, model=fit.1998_3, nmax=3)
krig.1998.4 <- krige(log(PREMON) ~ 1, 	train1998_4, test.grid, model=fit.1998_4, nmax=3)
krig.1999.1 <- krige(log(MONSOON) ~ 1, 	train1999_1, test.grid, model=fit.1999_1, nmax=3)
krig.1999.2 <- krige(log(POMRB) ~ 1, 	train1999_2, test.grid, model=fit.1999_2, nmax=3)
krig.1999.3 <- krige(log(POMKH) ~ 1, 	train1999_3, test.grid, model=fit.1999_3, nmax=3)
krig.1999.4 <- krige(log(PREMON) ~ 1, 	train1999_4, test.grid, model=fit.1999_4, nmax=3)
krig.2000.1 <- krige(log(MONSOON) ~ 1, 	train2000_1, test.grid, model=fit.2000_1, nmax=3)
krig.2000.2 <- krige(log(POMRB) ~ 1, 	train2000_2, test.grid, model=fit.2000_2, nmax=3)
krig.2000.3 <- krige(log(POMKH) ~ 1, 	train2000_3, test.grid, model=fit.2000_3, nmax=3)
krig.2000.4 <- krige(log(PREMON) ~ 1, 	train2000_4, test.grid, model=fit.2000_4, nmax=3)
krig.2001.1 <- krige(log(MONSOON) ~ 1, 	train2001_1, test.grid, model=fit.2001_1, nmax=3)
krig.2001.2 <- krige(log(POMRB) ~ 1, 	train2001_2, test.grid, model=fit.2001_2, nmax=3)
krig.2001.3 <- krige(log(POMKH) ~ 1, 	train2001_3, test.grid, model=fit.2001_3, nmax=3)
krig.2001.4 <- krige(log(PREMON) ~ 1, 	train2001_4, test.grid, model=fit.2001_4, nmax=3)
krig.2002.1 <- krige(log(MONSOON) ~ 1, 	train2002_1, test.grid, model=fit.2002_1, nmax=3)
krig.2002.2 <- krige(log(POMRB) ~ 1, 	train2002_2, test.grid, model=fit.2002_2, nmax=3)
krig.2002.3 <- krige(log(POMKH) ~ 1, 	train2002_3, test.grid, model=fit.2002_3, nmax=3)
krig.2002.4 <- krige(log(PREMON) ~ 1, 	train2002_4, test.grid, model=fit.2002_4, nmax=3)
krig.2003.1 <- krige(log(MONSOON) ~ 1, 	train2003_1, test.grid, model=fit.2003_1, nmax=3)
krig.2003.2 <- krige(log(POMRB) ~ 1, 	train2003_2, test.grid, model=fit.2003_2, nmax=3)
krig.2003.3 <- krige(log(POMKH) ~ 1, 	train2003_3, test.grid, model=fit.2003_3, nmax=3)
krig.2003.4 <- krige(log(PREMON) ~ 1, 	train2003_4, test.grid, model=fit.2003_4, nmax=3)
krig.2004.1 <- krige(log(MONSOON) ~ 1, 	train2004_1, test.grid, model=fit.2004_1, nmax=3)
krig.2004.2 <- krige(log(POMRB) ~ 1, 	train2004_2, test.grid, model=fit.2004_2, nmax=3)
krig.2004.3 <- krige(log(POMKH) ~ 1, 	train2004_3, test.grid, model=fit.2004_3, nmax=3)
krig.2004.4 <- krige(log(PREMON) ~ 1, 	train2004_4, test.grid, model=fit.2004_4, nmax=3)
krig.2005.1 <- krige(log(MONSOON) ~ 1, 	train2005_1, test.grid, model=fit.2005_1, nmax=3)
krig.2005.2 <- krige(log(POMRB) ~ 1, 	train2005_2, test.grid, model=fit.2005_2, nmax=3)
krig.2005.3 <- krige(log(POMKH) ~ 1, 	train2005_3, test.grid, model=fit.2005_3, nmax=3)
krig.2005.4 <- krige(log(PREMON) ~ 1, 	train2005_4, test.grid, model=fit.2005_4, nmax=3)
krig.2006.1 <- krige(log(MONSOON) ~ 1, 	train2006_1, test.grid, model=fit.2006_1, nmax=3)
krig.2006.2 <- krige(log(POMRB) ~ 1, 	train2006_2, test.grid, model=fit.2006_2, nmax=3)
krig.2006.3 <- krige(log(POMKH) ~ 1, 	train2006_3, test.grid, model=fit.2006_3, nmax=3)
krig.2006.4 <- krige(log(PREMON) ~ 1, 	train2006_4, test.grid, model=fit.2006_4, nmax=3)
krig.2007.1 <- krige(log(MONSOON) ~ 1, 	train2007_1, test.grid, model=fit.2007_1, nmax=3)
krig.2007.2 <- krige(log(POMRB) ~ 1, 	train2007_2, test.grid, model=fit.2007_2, nmax=3)
krig.2007.3 <- krige(log(POMKH) ~ 1, 	train2007_3, test.grid, model=fit.2007_3, nmax=3)
krig.2007.4 <- krige(log(PREMON) ~ 1, 	train2007_4, test.grid, model=fit.2007_4, nmax=3)
krig.2008.1 <- krige(log(MONSOON) ~ 1, 	train2008_1, test.grid, model=fit.2008_1, nmax=3)
krig.2008.2 <- krige(log(POMRB) ~ 1, 	train2008_2, test.grid, model=fit.2008_2, nmax=3)
krig.2008.3 <- krige(log(POMKH) ~ 1, 	train2008_3, test.grid, model=fit.2008_3, nmax=3)
krig.2008.4 <- krige(log(PREMON) ~ 1, 	train2008_4, test.grid, model=fit.2008_4, nmax=3)
krig.2009.1 <- krige(log(MONSOON) ~ 1, 	train2009_1, test.grid, model=fit.2009_1, nmax=3)
krig.2009.2 <- krige(log(POMRB) ~ 1, 	train2009_2, test.grid, model=fit.2009_2, nmax=3)
krig.2009.3 <- krige(log(POMKH) ~ 1, 	train2009_3, test.grid, model=fit.2009_3, nmax=3)
krig.2009.4 <- krige(log(PREMON) ~ 1, 	train2009_4, test.grid, model=fit.2009_4, nmax=3)
krig.2010.1 <- krige(log(MONSOON) ~ 1, 	train2010_1, test.grid, model=fit.2010_1, nmax=3)
krig.2010.2 <- krige(log(POMRB) ~ 1, 	train2010_2, test.grid, model=fit.2010_2, nmax=3)
krig.2010.3 <- krige(log(POMKH) ~ 1, 	train2010_3, test.grid, model=fit.2010_3, nmax=3)
krig.2010.4 <- krige(log(PREMON) ~ 1, 	train2010_4, test.grid, model=fit.2010_4, nmax=3)
krig.2011.1 <- krige(log(MONSOON) ~ 1, 	train2011_1, test.grid, model=fit.2011_1, nmax=3)
krig.2011.2 <- krige(log(POMRB) ~ 1, 	train2011_2, test.grid, model=fit.2011_2, nmax=3)
krig.2011.3 <- krige(log(POMKH) ~ 1, 	train2011_3, test.grid, model=fit.2011_3, nmax=3)
krig.2011.4 <- krige(log(PREMON) ~ 1, 	train2011_4, test.grid, model=fit.2011_4, nmax=3)
krig.2012.1 <- krige(log(MONSOON) ~ 1, 	train2012_1, test.grid, model=fit.2012_1, nmax=3)
krig.2012.2 <- krige(log(POMRB) ~ 1, 	train2012_2, test.grid, model=fit.2012_2, nmax=3)
krig.2012.3 <- krige(log(POMKH) ~ 1, 	train2012_3, test.grid, model=fit.2012_3, nmax=3)
krig.2012.4 <- krige(log(PREMON) ~ 1, 	train2012_4, test.grid, model=fit.2012_4, nmax=3)
krig.2013.1 <- krige(log(MONSOON) ~ 1, 	train2013_1, test.grid, model=fit.2013_1, nmax=3)
krig.2013.2 <- krige(log(POMRB) ~ 1, 	train2013_2, test.grid, model=fit.2013_2, nmax=3)
krig.2013.3 <- krige(log(POMKH) ~ 1, 	train2013_3, test.grid, model=fit.2013_3, nmax=3)
krig.2013.4 <- krige(log(PREMON) ~ 1, 	train2013_4, test.grid, model=fit.2013_4, nmax=3)
krig.2014.1 <- krige(log(MONSOON) ~ 1, 	train2014_1, test.grid, model=fit.2014_1, nmax=3)
krig.2014.2 <- krige(log(POMRB) ~ 1, 	train2014_2, test.grid, model=fit.2014_2, nmax=3)
krig.2014.3 <- krige(log(POMKH) ~ 1, 	train2014_3, test.grid, model=fit.2014_3, nmax=3)
krig.2014.4 <- krige(log(PREMON) ~ 1, 	train2014_4, test.grid, model=fit.2014_4, nmax=3)
krig.2015.1 <- krige(log(MONSOON) ~ 1, 	train2015_1, test.grid, model=fit.2015_1, nmax=3)
krig.2015.2 <- krige(log(POMRB) ~ 1, 	train2015_2, test.grid, model=fit.2015_2, nmax=3)
krig.2015.3 <- krige(log(POMKH) ~ 1, 	train2015_3, test.grid, model=fit.2015_3, nmax=3)
krig.2015.4 <- krige(log(PREMON) ~ 1, 	train2015_4, test.grid, model=fit.2015_4, nmax=3)
krig.2016.1 <- krige(log(MONSOON) ~ 1, 	train2016_1, test.grid, model=fit.2016_1, nmax=3)
krig.2016.2 <- krige(log(POMRB) ~ 1, 	train2016_2, test.grid, model=fit.2016_2, nmax=3)
krig.2016.3 <- krige(log(POMKH) ~ 1, 	train2016_3, test.grid, model=fit.2016_3, nmax=3)
krig.2016.4 <- krige(log(PREMON) ~ 1, 	train2016_4, test.grid, model=fit.2016_4, nmax=3)
krig.2017.1 <- krige(log(MONSOON) ~ 1, 	train2017_1, test.grid, model=fit.2017_1, nmax=3)
krig.2017.2 <- krige(log(POMRB) ~ 1, 	train2017_2, test.grid, model=fit.2017_2, nmax=3)
krig.2017.3 <- krige(log(POMKH) ~ 1, 	train2017_3, test.grid, model=fit.2017_3, nmax=3)
krig.2017.4 <- krige(log(PREMON) ~ 1, 	train2017_4, test.grid, model=fit.2017_4, nmax=3)
krig.2018.1 <- krige(log(MONSOON) ~ 1, 	train2018_1, test.grid, model=fit.2018_1, nmax=3)
krig.2018.2 <- krige(log(POMRB) ~ 1, 	train2018_2, test.grid, model=fit.2018_2, nmax=3)
krig.2018.3 <- krige(log(POMKH) ~ 1, 	train2018_3, test.grid, model=fit.2018_3, nmax=3)
krig.2018.4 <- krige(log(PREMON) ~ 1, 	train2018_4, test.grid, model=fit.2018_4, nmax=3)
#### Quick side-by-side graph of observed and krigged maps
#  temp1 <- krig.2004.2 %>% as.data.frame %>%
#    ggplot(aes(x=left, y=top)) + geom_point(aes(color=var1.pred), size=1) +
#    coord_equal() +
#    scale_colour_viridis_c() +
#    scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
#    theme_bw() +
#    labs(color = "Log(Depth to Water)", title = "Krigged Data")
#
#  temp2 <- gw2004_2 %>% as.data.frame %>% mutate(lpomrb = log(POMRB)) %>%
#    ggplot(aes(LON, LAT)) + geom_point(aes(color=lpomrb), size = 1) +
#    coord_equal() + theme_bw() + scale_colour_viridis_c() +
#    labs(color = "Log(Depth to Water)", title = "Observed Data")
#
# grid.arrange(temp2, temp1, ncol = 2)
### Convert krigged data into large dataframe
k1996.1 <- krig.1996.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k1996.2 <- krig.1996.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k1996.3 <- krig.1996.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k1996.4 <- krig.1996.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k1997.1 <- krig.1997.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k1997.2 <- krig.1997.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k1997.3 <- krig.1997.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k1997.4 <- krig.1997.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k1998.1 <- krig.1998.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k1998.2 <- krig.1998.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k1998.3 <- krig.1998.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k1998.4 <- krig.1998.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k1999.1 <- krig.1999.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k1999.2 <- krig.1999.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k1999.3 <- krig.1999.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k1999.4 <- krig.1999.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2000.1 <- krig.2000.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2000.2 <- krig.2000.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2000.3 <- krig.2000.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2000.4 <- krig.2000.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2001.1 <- krig.2001.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2001.2 <- krig.2001.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2001.3 <- krig.2001.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2001.4 <- krig.2001.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2002.1 <- krig.2002.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2002.2 <- krig.2002.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2002.3 <- krig.2002.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2002.4 <- krig.2002.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2003.1 <- krig.2003.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2003.2 <- krig.2003.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2003.3 <- krig.2003.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2003.4 <- krig.2003.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2004.1 <- krig.2004.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2004.2 <- krig.2004.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2004.3 <- krig.2004.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2004.4 <- krig.2004.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2005.1 <- krig.2005.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2005.2 <- krig.2005.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2005.3 <- krig.2005.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2005.4 <- krig.2005.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2006.1 <- krig.2006.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2006.2 <- krig.2006.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2006.3 <- krig.2006.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2006.4 <- krig.2006.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2007.1 <- krig.2007.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2007.2 <- krig.2007.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2007.3 <- krig.2007.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2007.4 <- krig.2007.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2008.1 <- krig.2008.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2008.2 <- krig.2008.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2008.3 <- krig.2008.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2008.4 <- krig.2008.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2009.1 <- krig.2009.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2009.2 <- krig.2009.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2009.3 <- krig.2009.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2009.4 <- krig.2009.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2010.1 <- krig.2010.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2010.2 <- krig.2010.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2010.3 <- krig.2010.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2010.4 <- krig.2010.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2011.1 <- krig.2011.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2011.2 <- krig.2011.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2011.3 <- krig.2011.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2011.4 <- krig.2011.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2012.1 <- krig.2012.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2012.2 <- krig.2012.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2012.3 <- krig.2012.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2012.4 <- krig.2012.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2013.1 <- krig.2013.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2013.2 <- krig.2013.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2013.3 <- krig.2013.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2013.4 <- krig.2013.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2014.1 <- krig.2014.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2014.2 <- krig.2014.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2014.3 <- krig.2014.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2014.4 <- krig.2014.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2015.1 <- krig.2015.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2015.2 <- krig.2015.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2015.3 <- krig.2015.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2015.4 <- krig.2015.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2016.1 <- krig.2016.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2016.2 <- krig.2016.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2016.3 <- krig.2016.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2016.4 <- krig.2016.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2017.1 <- krig.2017.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2017.2 <- krig.2017.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2017.3 <- krig.2017.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2017.4 <- krig.2017.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k2018.1 <- krig.2018.1 %>% as.data.frame %>% dplyr::select(x = left, y = top, lmon = var1.pred)
k2018.2 <- krig.2018.2 %>% as.data.frame %>% dplyr::select(x = left, y = top, lrb = var1.pred)
k2018.3 <- krig.2018.3 %>% as.data.frame %>% dplyr::select(x = left, y = top, lkh = var1.pred)
k2018.4 <- krig.2018.4 %>% as.data.frame %>% dplyr::select(x = left, y = top, lprem = var1.pred)
k1996 <- merge(k1996.1,merge(k1996.2,merge(k1996.3,k1996.4))) %>% mutate(year = 1996, id = row_number())
k1997 <- merge(k1997.1,merge(k1997.2,merge(k1997.3,k1997.4))) %>% mutate(year = 1997, id = row_number())
k1998 <- merge(k1998.1,merge(k1998.2,merge(k1998.3,k1998.4))) %>% mutate(year = 1998, id = row_number())
k1999 <- merge(k1999.1,merge(k1999.2,merge(k1999.3,k1999.4))) %>% mutate(year = 1999, id = row_number())
k2000 <- merge(k2000.1,merge(k2000.2,merge(k2000.3,k2000.4))) %>% mutate(year = 2000, id = row_number())
k2001 <- merge(k2001.1,merge(k2001.2,merge(k2001.3,k2001.4))) %>% mutate(year = 2001, id = row_number())
k2002 <- merge(k2002.1,merge(k2002.2,merge(k2002.3,k2002.4))) %>% mutate(year = 2002, id = row_number())
k2003 <- merge(k2003.1,merge(k2003.2,merge(k2003.3,k2003.4))) %>% mutate(year = 2003, id = row_number())
k2004 <- merge(k2004.1,merge(k2004.2,merge(k2004.3,k2004.4))) %>% mutate(year = 2004, id = row_number())
k2005 <- merge(k2005.1,merge(k2005.2,merge(k2005.3,k2005.4))) %>% mutate(year = 2005, id = row_number())
k2006 <- merge(k2006.1,merge(k2006.2,merge(k2006.3,k2006.4))) %>% mutate(year = 2006, id = row_number())
k2007 <- merge(k2007.1,merge(k2007.2,merge(k2007.3,k2007.4))) %>% mutate(year = 2007, id = row_number())
k2008 <- merge(k2008.1,merge(k2008.2,merge(k2008.3,k2008.4))) %>% mutate(year = 2008, id = row_number())
k2009 <- merge(k2009.1,merge(k2009.2,merge(k2009.3,k2009.4))) %>% mutate(year = 2009, id = row_number())
k2010 <- merge(k2010.1,merge(k2010.2,merge(k2010.3,k2010.4))) %>% mutate(year = 2010, id = row_number())
k2011 <- merge(k2011.1,merge(k2011.2,merge(k2011.3,k2011.4))) %>% mutate(year = 2011, id = row_number())
k2012 <- merge(k2012.1,merge(k2012.2,merge(k2012.3,k2012.4))) %>% mutate(year = 2012, id = row_number())
k2013 <- merge(k2013.1,merge(k2013.2,merge(k2013.3,k2013.4))) %>% mutate(year = 2013, id = row_number())
k2014 <- merge(k2014.1,merge(k2014.2,merge(k2014.3,k2014.4))) %>% mutate(year = 2014, id = row_number())
k2015 <- merge(k2015.1,merge(k2015.2,merge(k2015.3,k2015.4))) %>% mutate(year = 2015, id = row_number())
k2016 <- merge(k2016.1,merge(k2016.2,merge(k2016.3,k2016.4))) %>% mutate(year = 2016, id = row_number())
k2017 <- merge(k2017.1,merge(k2017.2,merge(k2017.3,k2017.4))) %>% mutate(year = 2017, id = row_number())
k2018 <- merge(k2018.1,merge(k2018.2,merge(k2018.3,k2018.4))) %>% mutate(year = 2018, id = row_number())
# No data for 2012
finalkrig <- rbind(k1996,k1997,k1998,k1999,k2000,k2001,k2002,k2003,k2004,
k2005,k2006,k2007,k2008,k2009,k2010,k2011,k2013,
k2014,k2015,k2016,k2017,k2018)
p2 <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lmon), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Krigged Data")
# Create plotly graph
ggplotly(p2, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = FALSE)
head(finalkrig)
pacman::p_load(ggplot2, dplyr, sp, gstat, scales, magrittr, readr, purrr, gridExtra, spatial, stats,
plotly, htmlwidgets)
ggplotly(p.mon, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = T)
p.mon <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lmon), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Monsoon Season")
ggplotly(p.mon, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = T)
# Make Plots by season
p.mon <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lmon), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Monsoon Season")
p.rb <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lrb), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Rabi Cropping Season")
p.kh <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lkh), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Kharif Cropping Season")
p.prem <- ggplot(finalkrig, aes(x = x, y = y)) +
geom_point(aes(frame = year, colour = lprem), alpha = 0.7) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Pre-Monsoon Season")
# Create plotly graphs
pl.mon <- ggplotly(p.mon, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = F)
pl.rb <- ggplotly(p.rb, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = F)
pl.kh <- ggplotly(p.kh, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = F)
pl.prem <- ggplotly(p.prem, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = F)
htmlwidgets::saveWidget(pl.mon, "./Output/pl_mon.html")
temp1 <- krig.2004.2 %>% as.data.frame %>%
ggplot(aes(x=left, y=top)) + geom_point(aes(color=var1.pred), size=1) +
coord_equal() +
scale_colour_viridis_c() +
scale_x_continuous(labels=comma) + scale_y_continuous(labels=comma) +
theme_bw() +
labs(color = "Log(Depth to Water)", title = "Krigged Data")
temp2 <- gw2004_2 %>% as.data.frame %>% mutate(lpomrb = log(POMRB)) %>%
ggplot(aes(LON, LAT)) + geom_point(aes(color=lpomrb), size = 1) +
coord_equal() + theme_bw() + scale_colour_viridis_c() +
labs(color = "Log(Depth to Water)", title = "Observed Data")
grid.arrange(temp2, temp1, ncol = 2)
#R code for analyzing data for the U.S. from the COVID Tracking Project: https://covidtracking.com
# Install and load packages
pacman::p_load(dplyr, tidyr, ggplot2, gridExtra, lubridate)
setwd("/Users/michaelblack/Documents/COVID-tracking")
data <- read.csv("https://covidtracking.com/api/v1/states/daily.csv")
data <- data %>%
mutate(date = as.Date(as.character(date), "%Y%m%d"))
txpre <- data %>%
filter(state == "TX",
date <= "2020-04-30")
txpos <- data %>%
filter(state == "TX",
date >= "2020-05-01")
death <- ggplot() +
geom_point(aes(date, death), data = txpre)+
geom_smooth(aes(date, death), data = txpre) +
geom_vline(xintercept = as.numeric(ymd("2020-04-30")), color = "red") +
geom_point(aes(date, death), data = txpos)+
geom_smooth(aes(date, death), data = txpos) +
theme_classic() +
labs(title = "Total Deaths in Texas", x = "Date", y = "Deaths")
curve <- ggplot() +
geom_point(aes(date, positiveIncrease), data = txpre)+
geom_smooth(aes(date, positiveIncrease), data = txpre) +
geom_vline(xintercept = as.numeric(ymd("2020-04-30")), color = "red") +
geom_point(aes(date, positiveIncrease), data = txpos)+
geom_smooth(aes(date, positiveIncrease), data = txpos) +
theme_classic() +
labs(title = "New Infections in Texas, Daily", x = "Date", y = "New Infections")
hospital <- ggplot() +
geom_point(aes(date, hospitalizedCurrently), data = txpre)+
geom_smooth(aes(date, hospitalizedCurrently), data = txpre) +
geom_vline(xintercept = as.numeric(ymd("2020-04-30")), color = "red") +
geom_point(aes(date, hospitalizedCurrently), data = txpos)+
geom_smooth(aes(date, hospitalizedCurrently), data = txpos) +
theme_classic() +
labs(title = "Hospitalizations in Texas", x = "Date", y = "Number Hospitalized")
forabbott<- grid.arrange(curve,
hospital,
death, nrow=1)
ggsave("forabbott.png", plot = forabbott)
ggsave("infections_tx.png", plot = curve)
ggsave("hospitalizations_tx.png", plot = hospital)
ggsave("deaths_tx.png", plot = death)
#R code for analyzing data for the U.S. from the COVID Tracking Project: https://covidtracking.com
# Install and load packages
pacman::p_load(dplyr, tidyr, ggplot2, gridExtra, lubridate)
setwd("/Users/michaelblack/Documents/COVID-tracking")
data <- read.csv("https://covidtracking.com/api/v1/states/daily.csv")
data <- data %>%
mutate(date = as.Date(as.character(date), "%Y%m%d"))
ar <- data %>%
filter(state == "AR")
ar_plot <- ggplot(ar, aes(date, positiveIncrease))+
geom_point() +
geom_smooth() +
theme_classic() +
labs(title = "New Infections in Arkansas, Daily", x = "Date", y = "New Infections")
ggplot(ar, aes(date, positiveIncrease))+
geom_point() +
geom_smooth() +
theme_classic() +
labs(title = "New Infections in Arkansas, Daily", x = "Date", y = "New Infections")
ny <- data %>%
filter(state == "NY")
ny_plot <- ggplot(ny, aes(date, positiveIncrease))+
geom_point() +
geom_smooth() +
theme_classic() +
labs(title = "New Infections in New York, Daily", x = "Date", y = "New Infections")
ggplot(ny, aes(date, positiveIncrease))+
geom_point() +
geom_smooth() +
theme_classic() +
labs(title = "New Infections in New York, Daily", x = "Date", y = "New Infections")
#R code for analyzing data for the U.S. from the COVID Tracking Project: https://covidtracking.com
# Install and load packages
pacman::p_load(dplyr, tidyr, ggplot2, gridExtra, lubridate)
setwd("/Users/michaelblack/Documents/COVID-tracking")
data <- read.csv("https://covidtracking.com/api/v1/states/daily.csv")
data <- data %>%
mutate(date = as.Date(as.character(date), "%Y%m%d"))
txpre <- data %>%
filter(state == "TX",
date <= "2020-04-30")
txpos <- data %>%
filter(state == "TX",
date >= "2020-05-01")
ggplot() +
geom_point(aes(date, positiveIncrease), data = txpre)+
geom_smooth(aes(date, positiveIncrease), data = txpre) +
geom_vline(xintercept = as.numeric(ymd("2020-04-30")), color = "red") +
geom_point(aes(date, positiveIncrease), data = txpos)+
geom_smooth(aes(date, positiveIncrease), data = txpos) +
theme_classic() +
labs(title = "New Infections in Texas, Daily", x = "Date", y = "New Infections")
ggplotly(p.mon, height = 900, width = 700) %>%
animation_opts(frame = 200,
easing = "linear",
redraw = F)
